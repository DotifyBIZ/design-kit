<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dotify Design Kit — Test Page</title>
  <link rel="stylesheet" href="src/index.css">
  <style>
    body{padding:28px;background:#f4f6f8;font-family:var(--font-sans);}
    .skip-link:focus { position: absolute; left: 16px; top: 16px; background: var(--dt-white); padding: 8px 12px; border: 1px solid var(--dt-grey-300); z-index: 2000; color: var(--color-text); }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link sr-only">Skip to main content</a>
  <main class="dt-container">
    <h1 id="main-content">Dotify Design Kit — Visual Test</h1>
    <p class="dt-lead">This page demonstrates the kit's core styles: headings, typography, buttons, cards, forms, utilities and Bootstrap-compat mappings.</p>

    <section>
      <h2>Headings</h2>
      <h1 class="dt-h1">H1 — dt-h1</h1>
      <h2 class="dt-h2">H2 — dt-h2</h2>
      <h3 class="dt-h3">H3 — dt-h3</h3>
      <h4 class="dt-h4">H4 — dt-h4</h4>
      <h5 class="dt-h5">H5 — dt-h5</h5>
      <h6 class="dt-h6">H6 — dt-h6</h6>
    </section>

    <section>
      <h2>Typography</h2>
      <p>Regular paragraph text — Lorem ipsum dolor sit amet, consectetur adipiscing elit. <a href="#">This is a link</a> with hover/focus styles.</p>
      <blockquote>Blockquote example — Lorem ipsum dolor sit amet, consectetur adipiscing elit.</blockquote>
      <h3>Lists</h3>
      <ul>
        <li>Item one
          <ul>
            <li>Nested item A</li>
          </ul>
        </li>
        <li>Item two</li>
      </ul>
      <p><span class="dt-text-xs">Small text</span> · <span class="dt-text-sm">Smaller</span> · <span class="dt-text-lg">Large</span></p>
    </section>

    <section>
      <h2>Buttons</h2>
      <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:center;">
        <button type="button" class="dt-btn dt-btn--primary">Primary</button>
        <button type="button" class="dt-btn dt-btn--secondary">Secondary</button>
        <button type="button" class="dt-btn dt-btn--outline">Outline</button>
        <button type="button" class="dt-btn dt-btn--primary dt-btn--sm">Primary small</button>
        <button type="button" class="dt-btn dt-btn--primary dt-btn--lg">Primary large</button>
        <button type="button" class="dt-btn dt-btn--primary" disabled>Disabled</button>
        <button type="button" class="dt-btn dt-btn--primary">.btn-primary (converted)</button>
        <button type="button" class="dt-btn dt-btn--secondary">.btn-default (converted)</button>
      </div>
    </section>

    <section>
      <h2>Cards & Panels</h2>
      <div style="display:flex;gap:16px;flex-wrap:wrap;">
        <div class="dt-card" style="width:320px;">
          <div class="dt-card__title">Card title</div>
          <div class="dt-card__body">Card body content. Use this area to test padding and text styles.</div>
        </div>

        <div class="dt-card" style="width:320px;">
          <div class="dt-card__title">Panel heading (converted)</div>
          <div class="dt-card__body">Panel body — converted to Dotify card.</div>
        </div>
      </div>
    </section>

    <section>
      <h2>Grid / Layout helpers (demo)</h2>
      <div class="dt-row">
        <div class="dt-col dt-col-4">
          <div class="dt-card">
            <div class="dt-card__title">Column 1</div>
            <div class="dt-card__body">Content for column one.</div>
          </div>
        </div>
        <div class="dt-col dt-col-4">
          <div class="dt-card">
            <div class="dt-card__title">Column 2</div>
            <div class="dt-card__body">Content for column two.</div>
          </div>
        </div>
        <div class="dt-col dt-col-4">
          <div class="dt-card">
            <div class="dt-card__title">Column 3</div>
            <div class="dt-card__body">Content for column three.</div>
          </div>
        </div>
      </div>
    </section>

    <section>
      <h2>Forms</h2>
      <form style="max-width:720px;" class="dt-form">
        <div class="dt-form-group">
          <label class="dt-form-label" for="name">Name</label>
          <input id="name" class="dt-form-control" placeholder="Your name">
          <div class="dt-form-help">Helper text</div>
        </div>

        <div class="dt-form-group" id="email-group">
          <label class="dt-form-label" for="email">Email (error)</label>
          <input id="email" class="dt-form-control" placeholder="you@example.com" aria-invalid="false">
          <div class="dt-form-error" role="alert" aria-live="assertive">This field is required.</div>
        </div>

        <div class="dt-form-group">
          <label class="dt-form-label" for="message">Message</label>
          <textarea id="message" class="dt-form-control" placeholder="Write something..."></textarea>
        </div>

        <div class="dt-form-group dt-form-check">
          <input type="checkbox" id="agree">
          <label class="dt-form-check-label" for="agree">I agree to terms</label>
        </div>

        <div class="dt-form-group">
          <label class="dt-form-label" for="select">Select</label>
          <select id="select" class="dt-form-control">
            <option>Option one</option>
            <option>Option two</option>
          </select>
        </div>

        <div style="display:flex;gap:12px;align-items:center;">
          <button class="dt-btn dt-btn--primary" type="button" id="validate">Toggle validation</button>
          <button class="dt-btn dt-btn--outline" type="submit">Submit</button>
        </div>
      </form>
    </section>

    <section>
        <h2>Alerts & Badges</h2>

        <div class="dt-alert dt-alert--info" role="status" aria-live="polite">
          <strong>Info:</strong> This is an informational alert.
        </div>

        <div class="dt-alert dt-alert--success" role="status" aria-live="polite">
          <strong>Success:</strong> Your changes were saved.
        </div>

        <div class="dt-alert dt-alert--danger" role="alert">
          <strong>Error:</strong> There was a problem processing your request.
        </div>

        <p>
          <span class="dt-badge">Default</span>
          <span class="dt-badge dt-badge--primary">Primary</span>
          <span class="dt-badge dt-badge--accent">Accent</span>
        </p>

        <p>
          <button id="show-alert" class="dt-btn dt-btn--secondary">Toggle Alert</button>
        </p>
      </section>

      <section>
      <h2>Tables, Badges, Pagination</h2>
      <table class="table" style="width:100%;max-width:720px;margin-bottom:var(--space-4);">
        <thead>
          <tr><th>Item</th><th>Status</th><th>Notes</th></tr>
        </thead>
        <tbody>
          <tr><td>Alpha</td><td><span class="dt-badge dt-badge--primary">Primary</span></td><td>Example</td></tr>
          <tr><td>Beta</td><td><span class="dt-badge dt-badge--accent">Success</span></td><td>Example</td></tr>
        </tbody>
      </table>

      <ul class="pagination">
        <li><a href="#">&laquo;</a></li>
        <li class="active"><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">&raquo;</a></li>
      </ul>
    </section>

    <section>
      <h2>Utilities</h2>
      <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;">
        <div class="dt-bg-primary dt-text-white" style="padding:12px;border-radius:8px;">BG primary</div>
        <div class="dt-bg-grey-light" style="padding:12px;border-radius:8px;">BG grey</div>
        <div class="dt-text-muted">Muted text</div>
        <div class="dt-text-secondary">Text indigo</div>
      </div>
    </section>

    <section>
      <h2>Accessible Modal Demo</h2>
      <p><button id="open-modal" class="dt-btn dt-btn--primary">Open modal</button></p>
      <div id="demo-modal" class="modal" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1">
            <div class="modal-header">
              <h3 id="modal-title" class="dt-card__title">Demo Modal</h3>
            </div>
            <div class="modal-body">
              <p>This is a simple accessible modal demo. Press Escape to close.</p>
            </div>
            <div class="modal-footer">
              <button id="close-modal" class="dt-btn dt-btn--secondary">Close</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <hr>
    <p style="color:#666;font-size:0.9rem;">Open this file in your browser to visually test the components. To commit, run the git commands provided earlier.</p>
  </main>

  <script>
    // Simple validation toggle for demo (sets aria-invalid and toggles error state)
    document.getElementById('validate').addEventListener('click', function(){
      var grp = document.getElementById('email-group');
      var input = grp.querySelector('#email');
      var err = grp.querySelector('.dt-form-error');
      var has = grp.classList.toggle('dt-has-error');
      if(input) input.setAttribute('aria-invalid', has ? 'true' : 'false');
      if(err) err.style.display = has ? 'block' : 'none';
    });

    // Alerts toggle (demo)
    var toggleAlert = document.getElementById('show-alert');
    if(toggleAlert){
      var dangerAlert = document.querySelector('.dt-alert--danger');
      toggleAlert.addEventListener('click', function(){
        if(!dangerAlert) return;
        var hidden = dangerAlert.getAttribute('aria-hidden') === 'true' || dangerAlert.style.display === 'none';
        dangerAlert.style.display = hidden ? 'block' : 'none';
        dangerAlert.setAttribute('aria-hidden', hidden ? 'false' : 'true');
      });
    }

    /* Accessible modal demo: open, trap focus (simple), and close */
    (function(){
      var openBtn = document.getElementById('open-modal');
      if(!openBtn) return;
      var modal = document.getElementById('demo-modal');
      var dialog = modal.querySelector('[role="dialog"]');
      var closeBtn = document.getElementById('close-modal');
      var lastFocus = null;

      function getFocusable(el){
        return Array.prototype.slice.call(el.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])'));
      }

      openBtn.addEventListener('click', function(){
        lastFocus = document.activeElement;
        modal.classList.add('show');
        modal.setAttribute('aria-hidden', 'false');
        // focus first focusable within dialog
        var focusable = getFocusable(dialog);
        if(focusable.length) focusable[0].focus(); else dialog.focus();
        // trap focus
        document.addEventListener('focus', trapFocus, true);
      });

      function trapFocus(e){
        if(!modal.classList.contains('show')) return;
        if(dialog.contains(e.target)) return; // inside dialog ok
        e.stopPropagation();
        var focusable = getFocusable(dialog);
        if(focusable.length) focusable[0].focus(); else dialog.focus();
      }

      closeBtn.addEventListener('click', function(){
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
        document.removeEventListener('focus', trapFocus, true);
        if(lastFocus) lastFocus.focus();
      });

      // close on Esc
      document.addEventListener('keydown', function(e){ if(e.key === 'Escape' && modal.classList.contains('show')) { closeBtn.click(); } });
    }());
  </script>
</body>
</html>
